<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: jqueryui | Daves dev warblings]]></title>
  <link href="http://jedistirfry.co.uk/blog/categories/jqueryui/atom.xml" rel="self"/>
  <link href="http://jedistirfry.co.uk/"/>
  <updated>2015-09-11T12:41:11+01:00</updated>
  <id>http://jedistirfry.co.uk/</id>
  <author>
    <name><![CDATA[David Yell]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[jQuery UI Accordion]]></title>
    <link href="http://jedistirfry.co.uk/blog/2015-05/jquery-ui-accordion/"/>
    <updated>2015-05-20T16:14:00+01:00</updated>
    <id>http://jedistirfry.co.uk/blog/2015-05/jquery-ui-accordion</id>
    <content type="html"><![CDATA[<h2>Time for some Javascript!</h2>

<p>So I&rsquo;ve implemented the <a href="https://jqueryui.com/accordion/">jQueryUI Accordion</a> as a menu system for a CMS that I&rsquo;m building and I&rsquo;ve noticed that the active header will not open automatically.</p>

<p>This means that when a user hits a link to visit a new page, the accordion will not display their current menu item as active.</p>

<p>Time for some code!</p>

<h2>Markup</h2>

<p>I&rsquo;ve used the same markup as the example, except that because it&rsquo;s a menu, I needed some bullet points.</p>

<p>```html</p>

<div id='accordion'>
    <h3>First Heading</h3>
    <div>
        <ul>
            <!-- Add an active class how you want to -->
            <li class='active'>First item</li>
            <li>Second item</li>
        </ul>
    </div>
    <!-- More items repeated -->
</div>


<p>```</p>

<h2>jQuery</h2>

<p>So how can we use the markup to tell the javascript which heading to mark active? Turns out it&rsquo;s remarkably simple.</p>

<p>```javascript
$(function () {</p>

<p>//  Accordian navigation</p>

<pre><code>$('#accordion').accordion({
    heightStyle: "content"
});

$('#accordion h3').each(function (i,e) {
    if ($(e).next('div').find('li.active').length &gt; 0) {
        $("#accordion").accordion("option", "active", i);
    }
});
</code></pre>

<p>})
```</p>

<p>The trick here is the use of <code>next()</code> to select the immediately adjacent <code>div</code> without selecting all the other siblings.</p>

<h2>Go make a brew!</h2>

<p>All done, that&rsquo;s it!</p>
]]></content>
  </entry>
  
</feed>
